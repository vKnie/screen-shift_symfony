{% extends 'base.html.twig' %}
{% block body %}
    <h1>{{ edit is defined ? 'Modifier un groupe' : 'Créer un groupe' }}</h1>
    <hr>
    {{ form_start(form) }}
        <div class="mb-3">
            {{ form_label(form.name, null, {'label_attr': {'class': 'form-label'}}) }}
            {{ form_widget(form.name, {'attr': {'class': 'form-control'}}) }}
            {{ form_errors(form.name) }}
        </div>
        
        {# Afficher le champ role seulement si l'utilisateur a le rôle ROLE_ADMIN #}
        {% if is_granted('ROLE_ADMIN') %}
            <div class="mb-3">
                {{ form_label(form.role, null, {'label_attr': {'class': 'form-label'}}) }}
                {{ form_widget(form.role, {'attr': {'class': 'form-control'}}) }}
                {{ form_errors(form.role) }}
                {% if form.role.vars.help %}
                    <div class="form-text">{{ form.role.vars.help }}</div>
                {% endif %}
            </div>
        {% endif %}
        
        <button type="submit" class="btn btn-primary">
            {{ edit is defined ? 'Mettre à jour' : 'Créer' }}
        </button>
    {{ form_end(form) }}
{% endblock %}